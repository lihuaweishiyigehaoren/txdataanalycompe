## <center>初赛第一题：MOBA代练行为检测</center>

### 1、输入

大赛方提供的输入数据主要包括两类：

1. 对局战绩流水

   玩家账号，大区ID，游戏模式，对局开始时间，英雄ID，队伍ID，击杀数量，被击杀数量，助攻数量，最大连杀，对局评价分，标识位，扩展标识位，英雄数量度

2. 对局行为流水

   玩家账号，大区号，对局id，游戏结束时间，游戏开始时间，地图ID，游戏对局时长，游戏模式，游戏子模式，经验变化值，总的经验值，历史获得总金币数，金币变化数，玩家ELO分，leaver flag逃跑者标志，造成的伤害，受到的伤害，获得的金币，治疗，最大连杀，最大多杀，造成的魔法伤害，承受的魔法伤害，击杀的小兵，击杀的中立生物，造成的物理伤害，受到的物理伤害，死亡的时间，摧毁的防御塔，召唤师技能1，召唤师技能2，召唤师等级，本局游戏召唤师的英雄ID，量化玩家队伍取得胜利机会的因素，表明该玩家所在队伍是否属于组队的布尔值，组队的玩家个数，游戏结束后ELO值得变化

#### 特征提取

针对该赛题，我选择特征提取的思路主要由两种：

1. 凭借主观经验提取特征
2. 借助机器学习手段提取特征

**凭借主观经验提取特征**

对于MOBA类游戏有所熟悉的玩家都很清楚，一旦队友或者对手出现以下几类情况的时候很可能就是代练：

- 选择核心位置（打野，中单），通常使用同一个英雄的频率较高，英雄熟练度较低（因为跟玩家的英雄池很可能不重叠）
- 为了提高效率，通常是三人或五人组队，且能快速终结比赛，游戏时长较短
- 战场上其刷钱速度较快
- carry全场，KDA普遍较高
- ……

基于以上特征，我们对原始数据进行针对性的分析：

从原始数据中随机抽取10名玩家（6名代练和4名正常玩家）

（一）是否经常使用同一英雄

衡量指标：
$$
最大英雄使用频率=\frac {使用最多英雄的次数} {总局数}
$$

结果（其中左边四个是正常玩家，右边6个是代练）：

![herocountradio](C:\Users\LIHUAWEI\Desktop\txdataanalycompe\picture\herocountradio.png)

结论：该特征不明显

（二）是否具有较高的游戏评分

衡量标准：
$$
评分平均度= \frac {评分总和} {总局数}
$$
结果（其中左边四个是正常玩家，右边6个是代练）

### 2、模型训练

### 3、输出

### 特征提取

目的：找出能够明显识别出玩家是否为代练的特征（二分类）

分析手段：

> 思路一：采用可视化手段，分析各个因素与分类结果的一个关系；比如多排的玩家是代练的可能较大
>
> 思路二：分析选取的特征之间的线性相关性，如果存在较高的线性相关性，应解决共线性问题

#### 第一步

难点：训练数据集是一段时间内的玩家的行为记录，测试数据集是一天的（待验证）

如果在这段事件内，玩家也玩了，代练也玩了（会不会有这种情况，id能分？待验证）



### 数据抽取

抽取3组代练玩家的数据和2组非代练玩家



**对局战绩流水分析**：发现对局ID、游戏模式一直没有变，故可剔除

玩家账号、大区ID、~~对局id~~、~~游戏模式~~、对局开始时间、~~英雄ID~~、~~队伍id（如果是队友，则队伍id相同）~~、击杀数量、被击杀数量、助攻数量、最大连杀、对局评价分、标识位、扩展标识位、英雄熟练度



**对局行为流水**





英雄ID - 能够反映玩家的特征，根据过往几天的分析（取每个玩家 使用最高频率的英雄/总局数）-结果不明显

击杀数量、被击杀数量、助攻数量、最大连杀-这些特征都不是本质特征，作为训练特征不明显

对局评价分-取对局评价分的平均值作为特征较好

#### 分布分析

#### 周期性分析





取一个正反馈作为训练目标



经过以上的单个分析，发现很难找到真正能够与是否代练结果相匹配的特征，这个时候就应该是一个综合的特征因素（不是某一个因素所能影响的），找到所有正反馈的目标，然后通过降维(PCA)得到三个主成分进行分析。





### 构建专家样本



对于现在无法提取个别特征反映当前情况的事实。我选择选择正反馈数据做平均，然后PCA降维得到三个主成分特征比对。

对于：对局战绩流水；

删除对局id（2），游戏模式（3），对局开始时间（4），英雄id(5)-不好处理，标识位（12），扩展标识位（13）

对于对局行为流水；

删除对局id（2），游戏结束时间（3），游戏开始时间（4），地图id（5），游戏模式（7），游戏子模式（8），leaver flag逃跑（14)， 召唤师技能1（29），召唤师技能2（30），本局游戏召唤师英雄id（32），表明该玩家所在队伍（34）